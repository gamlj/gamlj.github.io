<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Examples of gamljGlm() • GAMLj3</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Examples of gamljGlm()">
<meta property="og:description" content="GAMLj3">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">GAMLj3</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">3.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/vignettes_gamljGlm.html">Examples of gamljGlm()</a>
    </li>
    <li>
      <a href="../articles/vignettes_plot.html">Plots in GAMLj</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Examples of gamljGlm()</h1>
                        <h4 data-toc-skip class="author">Marcello
Gallucci</h4>
            
            <h4 data-toc-skip class="date">2023-10-19</h4>
      
      
      <div class="hidden name"><code>vignettes_gamljGlm.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">gamlj</span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="linear-models-in-gamlj">Linear models in GAMLj<a class="anchor" aria-label="anchor" href="#linear-models-in-gamlj"></a>
</h2>
<p>In this example we run a moderated regression analysis with simple
slopes analysis and simple slopes graphs. Data are from <a href="http://psycnet.apa.org/record/2002-18109-000" class="external-link">Cohen et al 2003</a>
and can be downloaded <a href="https://github.com/mcfanda/gamlj_docs/blob/master/data/exercise.csv" class="external-link">here</a>.</p>
</div>
<div class="section level2">
<h2 id="the-research-design">The research design<a class="anchor" aria-label="anchor" href="#the-research-design"></a>
</h2>
<p>The research is about physical endurance associated with age and
physical exercise. 245 participants were measured while jogging on a
treadmill. Endurance was measured in minutes (‘yendu’ in the file).
Participants’ age (<code>xage</code> in years) and number of years of
physical exercise (<code>zexer</code> in years) were recorded as
well</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="st">"https://raw.githubusercontent.com/mcfanda/gamlj_docs/master/data/exercise.csv"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">data</span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"xage"</span>,<span class="st">"zexer"</span>,<span class="st">"yendu"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<pre><code>      xage          zexer          yendu     
 Min.   :20.0   Min.   : 0.0   Min.   : 0.0  
 1st Qu.:43.0   1st Qu.: 7.0   1st Qu.:19.0  
 Median :48.0   Median :11.0   Median :27.0  
 Mean   :49.2   Mean   :10.7   Mean   :26.5  
 3rd Qu.:56.0   3rd Qu.:14.0   3rd Qu.:33.0  
 Max.   :82.0   Max.   :26.0   Max.   :55.0  </code></pre>
<p>The researcher is interested in studying the relationships between
endurance, age, and exercising, with the hypothesis that the effect of
age (expected to be negative) is moderated by exercise, such that the
more participants work out (higher levels of <code>exer</code>) the less
age negatively affects endurance.</p>
</div>
<div class="section level2">
<h2 id="understanding-the-problem">Understanding the problem<a class="anchor" aria-label="anchor" href="#understanding-the-problem"></a>
</h2>
<p>We can think about this analytic problem as a multiple regression,
where the effect of age and exercise can be estimated while keeping
constant the other variable. However, the researcher puts forward a
<em>moderation hypothesis</em>, because s/he expects the effect of age
to change for different levels of exercising. We than need an
interaction between age and exercise.</p>
<p>We first run a multiple regression (to warm up), then we estimate a
multiple regression with an interaction (moderated regression) and we
probe the interaction with a simple slope analysis and simple slope
graphs. Technical details can be found in <a href="http://psycnet.apa.org/record/2002-18109-000" class="external-link">Cohen et al
2003</a>, or in <a href="http://quantpsy.org/interact/interactions.htm" class="external-link">Preacher
website</a>.</p>
</div>
<div class="section level2">
<h2 id="multiple-regression">Multiple regression<a class="anchor" aria-label="anchor" href="#multiple-regression"></a>
</h2>
<p>GAMLj GML function minimum setup only requires to specify the formula
of the model and the dataframe. The formula interface is the same one
uses in <code><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm()</a></code> function.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mod1</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/pkg/gamlj/man/gamljGlm.html" class="external-link">gamljGlm</a></span><span class="op">(</span>formula <span class="op">=</span> <span class="va">yendu</span><span class="op">~</span><span class="va">xage</span><span class="op">+</span><span class="va">zexer</span>, data<span class="op">=</span><span class="va">data</span><span class="op">)</span></span>
<span><span class="va">mod1</span></span></code></pre></div>
<pre><code>
 GENERAL LINEAR MODEL

 Model Info                                     
 ────────────────────────────────────────────── 
   Info                                         
 ────────────────────────────────────────────── 
   Estimate          Linear model fit by OLS    
   Call              yendu ~ 1 + xage + zexer   
   R-squared                            0.166   
   Adj. R-squared                       0.159   
 ────────────────────────────────────────────── 


 MODEL RESULTS

 ANOVA Omnibus tests                                      
 ──────────────────────────────────────────────────────── 
                SS       df     F       p         η²p     
 ──────────────────────────────────────────────────────── 
   Model         4751      2    24.1    &lt; .001    0.166   
   xage          1516      1    15.4    &lt; .001    0.060   
   zexer         4298      1    43.7    &lt; .001    0.153   
   Residuals    23810    242                              
   Total        28561    244                              
 ──────────────────────────────────────────────────────── 


 Fixed Effects Parameter Estimates                                                             
 ───────────────────────────────────────────────────────────────────────────────────────────── 
   Names          Estimate    SE        Lower     Upper     β         df     t        p        
 ───────────────────────────────────────────────────────────────────────────────────────────── 
   (Intercept)      26.531    0.6337    25.282    27.779     0.000    242    41.87    &lt; .001   
   xage             -0.257    0.0655    -0.386    -0.128    -0.240    242    -3.93    &lt; .001   
   zexer             0.916    0.1386     0.643     1.189     0.404    242     6.61    &lt; .001   
 ───────────────────────────────────────────────────────────────────────────────────────────── </code></pre>
<p>The object `mod’ is an R6 object which contains all the results
tables and some additional function that can be used in subsequent
analyses. Tables are pretty printed, but they can be modified or
manipulated by transforming them in dataframes as follows:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">anofaDF</span><span class="op">&lt;-</span><span class="va">mod1</span><span class="op">$</span><span class="va">main</span><span class="op">$</span><span class="va">anova</span><span class="op">$</span><span class="va">asDF</span></span>
<span><span class="va">anofaDF</span></span></code></pre></div>
<pre><code>       name    ss  df    f        p etaSqP
1     Model  4751   2 24.1 2.75e-10 0.1663
2      xage  1516   1 15.4 1.13e-04 0.0599
3     zexer  4298   1 43.7 2.44e-10 0.1529
4 Residuals 23810 242   NA       NA     NA
5     Total 28561 244   NA       NA     NA</code></pre>
<div class="section level3">
<h3 id="results">Results<a class="anchor" aria-label="anchor" href="#results"></a>
</h3>
<p>Results show three tables. The <em>Model Info</em> table contains
information about the overall model. The <em>ANOVA omnibus tests</em>
table contains the results of the <code>car:Anova()</code> function,
with the addition of the partial <span class="math inline">\(\eta^2\)</span> index for each effect and the
inferential test for the whole model. The <em>Fixed Effecta Parameter
Estimates</em> table contains the <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code> results. For
each coefficient the confidence interval is also reported.</p>
<p>A special note should be made for the intercept. The intercept is the
expected value (the mean) of the dependent variable, estimated for all
independent variables equal to their means. This is because in
gamljGlm(), continuous variables are centered to their mean by default.
In case one wants the independent variables not to be centered, one can
select a different scaling with the option <code>scaling</code>.</p>
<p>Additional effect size indexes can be asked with the option
<code>effectSize</code>.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mod2</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/pkg/gamlj/man/gamljGlm.html" class="external-link">gamljGlm</a></span><span class="op">(</span>formula <span class="op">=</span> <span class="va">yendu</span><span class="op">~</span><span class="va">xage</span><span class="op">+</span><span class="va">zexer</span>, </span>
<span>              data<span class="op">=</span><span class="va">data</span>,</span>
<span>              effectSize <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"beta"</span>, <span class="st">"eta"</span>,<span class="st">"etap"</span>,<span class="st">"omega"</span>,<span class="st">"epsilon"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">mod2</span><span class="op">$</span><span class="va">main</span><span class="op">$</span><span class="va">anova</span></span></code></pre></div>
<pre><code>
 ANOVA Omnibus tests                                                                 
 ─────────────────────────────────────────────────────────────────────────────────── 
                SS       df     F       p         η²       η²p      ω²       ε²      
 ─────────────────────────────────────────────────────────────────────────────────── 
   Model         4751      2    24.1    &lt; .001    0.166    0.166    0.159    0.159   
   xage          1516      1    15.4    &lt; .001    0.053    0.060    0.049    0.050   
   zexer         4298      1    43.7    &lt; .001    0.150    0.153    0.147    0.147   
   Residuals    23810    242                                                         
   Total        28561    244                                                         
 ─────────────────────────────────────────────────────────────────────────────────── </code></pre>
<p>The same analysis can be done by updating the model with the
<code><a href="https://rdrr.io/r/stats/update.html" class="external-link">update()</a></code> function. Almost all the options available in
<code><a href="https://rdrr.io/pkg/gamlj/man/gamljGlm.html" class="external-link">gamljGlm()</a></code> can be added to a model by running
<code>update(mod,...)</code> where <code>...</code> is any option or
options accepted by <code><a href="https://rdrr.io/pkg/gamlj/man/gamljGlm.html" class="external-link">gamljGlm()</a></code>.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mod2_2</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/stats/update.html" class="external-link">update</a></span><span class="op">(</span><span class="va">mod1</span>,effectSize <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"beta"</span>, <span class="st">"eta"</span>,<span class="st">"etap"</span>,<span class="st">"omega"</span>,<span class="st">"epsilon"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">mod2_2</span><span class="op">$</span><span class="va">main</span><span class="op">$</span><span class="va">anova</span></span></code></pre></div>
<pre><code>
 ANOVA Omnibus tests                                                                 
 ─────────────────────────────────────────────────────────────────────────────────── 
                SS       df     F       p         η²       η²p      ω²       ε²      
 ─────────────────────────────────────────────────────────────────────────────────── 
   Model         4751      2    24.1    &lt; .001    0.166    0.166    0.159    0.159   
   xage          1516      1    15.4    &lt; .001    0.053    0.060    0.049    0.050   
   zexer         4298      1    43.7    &lt; .001    0.150    0.153    0.147    0.147   
   Residuals    23810    242                                                         
   Total        28561    244                                                         
 ─────────────────────────────────────────────────────────────────────────────────── </code></pre>
</div>
</div>
<div class="section level2">
<h2 id="moderated-regression">Moderated regression<a class="anchor" aria-label="anchor" href="#moderated-regression"></a>
</h2>
<p>To include the interaction we simply add the interaction effect in
the formula.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mod3</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/pkg/gamlj/man/gamljGlm.html" class="external-link">gamljGlm</a></span><span class="op">(</span>formula <span class="op">=</span> <span class="va">yendu</span><span class="op">~</span><span class="va">xage</span><span class="op">*</span><span class="va">zexer</span>, data<span class="op">=</span><span class="va">data</span><span class="op">)</span></span>
<span><span class="va">mod3</span></span></code></pre></div>
<pre><code>
 GENERAL LINEAR MODEL

 Model Info                                                  
 ─────────────────────────────────────────────────────────── 
   Info                                                      
 ─────────────────────────────────────────────────────────── 
   Estimate          Linear model fit by OLS                 
   Call              yendu ~ 1 + xage + zexer + xage:zexer   
   R-squared                                         0.206   
   Adj. R-squared                                    0.196   
 ─────────────────────────────────────────────────────────── 


 MODEL RESULTS

 ANOVA Omnibus tests                                       
 ───────────────────────────────────────────────────────── 
                 SS       df     F       p         η²p     
 ───────────────────────────────────────────────────────── 
   Model          5887      3    20.9    &lt; .001    0.206   
   xage           1570      1    16.7    &lt; .001    0.065   
   zexer          4775      1    50.8    &lt; .001    0.174   
   xage:zexer     1137      1    12.1    &lt; .001    0.048   
   Residuals     22674    241                              
   Total         28561    244                              
 ───────────────────────────────────────────────────────── 


 Fixed Effects Parameter Estimates                                                               
 ─────────────────────────────────────────────────────────────────────────────────────────────── 
   Names          Estimate    SE        Lower      Upper      β         df     t        p        
 ─────────────────────────────────────────────────────────────────────────────────────────────── 
   (Intercept)     25.8887    0.6466    24.6150    27.1625     0.000    241    40.04    &lt; .001   
   xage            -0.2617    0.0641    -0.3879    -0.1355    -0.244    241    -4.08    &lt; .001   
   zexer            0.9727    0.1365     0.7038     1.2417     0.429    241     7.12    &lt; .001   
   xage:zexer       0.0472    0.0136     0.0205     0.0740     0.211    241     3.48    &lt; .001   
 ─────────────────────────────────────────────────────────────────────────────────────────────── </code></pre>
<div class="section level3">
<h3 id="results-1">Results<a class="anchor" aria-label="anchor" href="#results-1"></a>
</h3>
<p>Because variables are centered to their means, the first-order
coefficients can be interpreted as “average” effects. One can also
report the betas (<span class="math inline">\(\beta\)</span>). The
estimates of the betas are correct also in the presence of the
interaction, because the variables are standardized before the
interaction term is computed.</p>
</div>
<div class="section level3">
<h3 id="simple-slopes">Simple Slopes<a class="anchor" aria-label="anchor" href="#simple-slopes"></a>
</h3>
<p>We can now probe the interaction. One can re-run the model adding the
appropriate options to ask for simple effects or one can use the
<code>gamlj_simpleffects()</code> function, which is a convenience
function to add simple effects to a pre-existing model. The function
<code>gamlj_simpleffects()</code>, however, only returns the simple
effects tables, not the full model.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#mod4&lt;-gamljGlm(formula = yendu~xage*zexer,</span></span>
<span><span class="co">#               data=data,</span></span>
<span><span class="co">#               simpleVariable = "xage",</span></span>
<span><span class="co">#               simpleModerator = "zexer")</span></span>
<span><span class="co">### equivalent results :</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/gamlj/man/gamlj_simpleEffects.html" class="external-link">gamlj_simpleEffects</a></span><span class="op">(</span><span class="va">mod3</span>,variable <span class="op">=</span> <span class="st">"xage"</span>,moderator <span class="op">=</span> <span class="st">"zexer"</span><span class="op">)</span></span></code></pre></div>
<pre><code>
 SIMPLE EFFECTS

 Simple effects of xage : Omnibus Tests                         
 ────────────────────────────────────────────────────────────── 
   zexer        F         Num df    Den df    p         η²p     
 ────────────────────────────────────────────────────────────── 
   Mean-1-SD    27.972      1.00       241    &lt; .001    0.104   
        Mean    16.686      1.00       241    &lt; .001    0.065   
   Mean+1-SD     0.160      1.00       241     0.690    0.001   
 ────────────────────────────────────────────────────────────── 


 Simple effects of xage : Parameter estimates                                                  
 ───────────────────────────────────────────────────────────────────────────────────────────── 
   zexer        Estimate    SE        Lower     Upper     β          df     t         p        
 ───────────────────────────────────────────────────────────────────────────────────────────── 
   Mean-1-SD     -0.4873    0.0921    -0.669    -0.306    -0.4552    241    -5.289    &lt; .001   
        Mean     -0.2617    0.0641    -0.388    -0.135    -0.2445    241    -4.085    &lt; .001   
   Mean+1-SD     -0.0361    0.0903    -0.214     0.142    -0.0337    241    -0.400     0.690   
 ───────────────────────────────────────────────────────────────────────────────────────────── </code></pre>
<p>In this way we obtain the effect of age computed for high exercise
(<code>zexer</code> centered to 1 SD above average), the main effect of
age (<code>zexer</code> centered to its mean) and the effect of age
computed for low exercise (<code>zexer</code> centered to -1 SD above
average). <code>gamlGLM()</code> produces both the F-tests and the
parameter estimates for the simple slopes. We focus on the latter table
now.</p>
<p>One can change the conditioning levels of the moderators with the
<code>simpleScale</code> option (default is <code>mean_sd</code> for
mean plus/minus one SD), either added to the <code><a href="https://rdrr.io/pkg/gamlj/man/gamljGlm.html" class="external-link">gamljGlm()</a></code>
function or to the <code><a href="https://rdrr.io/pkg/gamlj/man/gamlj_simpleEffects.html" class="external-link">gamlj_simpleEffects()</a></code> function. If one
wants to use the percentiles (25%,50%,75%), for instance, one can run
the following.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/gamlj/man/gamlj_simpleEffects.html" class="external-link">gamlj_simpleEffects</a></span><span class="op">(</span><span class="va">mod3</span>,variable <span class="op">=</span> <span class="st">"xage"</span>,moderator <span class="op">=</span> <span class="st">"zexer"</span>,simpleScale<span class="op">=</span><span class="st">"percent"</span><span class="op">)</span></span></code></pre></div>
<pre><code>
 SIMPLE EFFECTS

 Simple effects of xage : Omnibus Tests                    
 ───────────────────────────────────────────────────────── 
   zexer    F        Num df    Den df    p         η²p     
 ───────────────────────────────────────────────────────── 
    25th    28.15      1.00       241    &lt; .001    0.105   
    50th    14.74      1.00       241    &lt; .001    0.058   
    75th     1.81      1.00       241     0.180    0.007   
 ───────────────────────────────────────────────────────── 


 Simple effects of xage : Parameter estimates                                              
 ───────────────────────────────────────────────────────────────────────────────────────── 
   zexer    Estimate    SE        Lower     Upper      β          df     t        p        
 ───────────────────────────────────────────────────────────────────────────────────────── 
    25th      -0.435    0.0820    -0.597    -0.2736    -0.4066    241    -5.31    &lt; .001   
    50th      -0.246    0.0641    -0.373    -0.1199    -0.2300    241    -3.84    &lt; .001   
    75th      -0.105    0.0777    -0.257     0.0485    -0.0976    241    -1.35     0.180   
 ───────────────────────────────────────────────────────────────────────────────────────── </code></pre>
<p>The simple effects are now changed, because they are estimated for a
different set of values of the moderator.</p>
<p>One can further tweak the appearance of the tables by selecting a
different value/labels in <code>simpleScaleLabels</code> option. Options
are “labels”, “values” and “values_labels”. The latter outputs the
values and the labels of the conditioning values.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/gamlj/man/gamlj_simpleEffects.html" class="external-link">gamlj_simpleEffects</a></span><span class="op">(</span><span class="va">mod3</span>,variable <span class="op">=</span> <span class="st">"xage"</span>,moderator <span class="op">=</span> <span class="st">"zexer"</span>,</span>
<span>                    simpleScale<span class="op">=</span><span class="st">"percent"</span>, </span>
<span>                    simpleScaleLabels<span class="op">=</span><span class="st">"values_labels"</span><span class="op">)</span></span></code></pre></div>
<pre><code>
 SIMPLE EFFECTS

 Simple effects of xage : Omnibus Tests                          
 ─────────────────────────────────────────────────────────────── 
   zexer          F        Num df    Den df    p         η²p     
 ─────────────────────────────────────────────────────────────── 
   25th=-3.673    28.15      1.00       241    &lt; .001    0.105   
    50th=0.327    14.74      1.00       241    &lt; .001    0.058   
    75th=3.327     1.81      1.00       241     0.180    0.007   
 ─────────────────────────────────────────────────────────────── 


 Simple effects of xage : Parameter estimates                                                    
 ─────────────────────────────────────────────────────────────────────────────────────────────── 
   zexer          Estimate    SE        Lower     Upper      β          df     t        p        
 ─────────────────────────────────────────────────────────────────────────────────────────────── 
   25th=-3.673      -0.435    0.0820    -0.597    -0.2736    -0.4066    241    -5.31    &lt; .001   
    50th=0.327      -0.246    0.0641    -0.373    -0.1199    -0.2300    241    -3.84    &lt; .001   
    75th=3.327      -0.105    0.0777    -0.257     0.0485    -0.0976    241    -1.35     0.180   
 ─────────────────────────────────────────────────────────────────────────────────────────────── </code></pre>
</div>
<div class="section level3">
<h3 id="simple-slopes-plot">Simple Slopes Plot<a class="anchor" aria-label="anchor" href="#simple-slopes-plot"></a>
</h3>
<p>We can get a clear picture of the interaction by asking for a plot.
Also the plot module takes care of centering the variables in a way that
makes the plot clearly understandable.</p>
<p>The options needed in <code><a href="https://rdrr.io/pkg/gamlj/man/gamljGlm.html" class="external-link">gamljGlm()</a></code> are
<code>plotHAxis</code> for the x-axis variable and
<code>plotSepLines</code> for the moderator. At which three levels of
the moderator the separate lines are computed is decided by the option
<code>simpleScale</code> as for the simple effects.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mod4</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/pkg/gamlj/man/gamljGlm.html" class="external-link">gamljGlm</a></span><span class="op">(</span>formula <span class="op">=</span> <span class="va">yendu</span><span class="op">~</span><span class="va">xage</span><span class="op">*</span><span class="va">zexer</span>, data<span class="op">=</span><span class="va">data</span>, </span>
<span>               plotHAxis <span class="op">=</span> <span class="st">"xage"</span>,plotSepLines <span class="op">=</span> <span class="st">"zexer"</span>,plotError <span class="op">=</span> <span class="st">"ci"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">mod4</span><span class="op">)</span></span></code></pre></div>
<p><img src="vignettes_gamljGlm_files/figure-html/unnamed-chunk-11-1.png" width="576" style="display: block; margin: auto;"></p>
<p>The nice plot we get shows the simple effects (simple equations to be
precise) with the prediction confidence intervals indicated by the
colored shades around the lines. If needed, the confidence intervals can
be substituted with the standard errors of the estimates or they can be
removed completely.</p>
<p>We use the<code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> function. The function, applied to a
<code>gamlj</code> results object, returns one plot if it is present in
the model, returned as a ggplot2 object. If more than one plot is
present, a list of plots is returned. FALSE is returned if no plot is
present or defined. The function <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> can also be use to
add new plots or to add options to the plots.</p>
<p>For instance, if we want to give a more honest account of the model
fit, we can visualize the simple slopes over the the actual data. The
function <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> produces a new plot after adding any
options accepted by <code><a href="https://rdrr.io/pkg/gamlj/man/gamljGlm.html" class="external-link">gamljGlm()</a></code></p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">mod4</span>,plotRaw<span class="op">=</span><span class="cn">T</span><span class="op">)</span></span></code></pre></div>
<p><img src="vignettes_gamljGlm_files/figure-html/unnamed-chunk-12-1.png" width="576" style="display: block; margin: auto;"></p>
<p>Any plot produced by <code>gamljGlm</code> or <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> can
be obtained as a ggplot2 object for further manipulations or usage. For
instance, one can change the theme of the plot:</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">myplot</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">mod4</span><span class="op">)</span></span>
<span><span class="va">myplot</span><span class="op">+</span><span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_grey</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="vignettes_gamljGlm_files/figure-html/unnamed-chunk-13-1.png" width="576" style="display: block; margin: auto;"></p>
<p><a href="#linear-models-in-gamlj">back to top</a></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Marcello Gallucci.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
