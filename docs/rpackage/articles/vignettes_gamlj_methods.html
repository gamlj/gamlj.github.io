<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Examples of GAMLj Methods • GAMLj3</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Examples of GAMLj Methods">
<meta property="og:description" content="GAMLj3">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">GAMLj3</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">3.3.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/vignettes_gamlj_lm.html">Examples of gamlj_lm()</a>
    </li>
    <li>
      <a href="../articles/vignettes_gamlj_methods.html">Examples of GAMLj Methods</a>
    </li>
    <li>
      <a href="../articles/vignettes_plot.html">Plots in GAMLj</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Examples of GAMLj Methods</h1>
                        <h4 data-toc-skip class="author">Marcello
Gallucci</h4>
            
            <h4 data-toc-skip class="date">2024-05-16</h4>
      
      
      <div class="hidden name"><code>vignettes_gamlj_methods.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">GAMLj3</span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="linear-models-in-gamlj">Linear models in GAMLj<a class="anchor" aria-label="anchor" href="#linear-models-in-gamlj"></a>
</h2>
<p>In this example we run a logistic model using the file
<code>data(manymodels)</code> and show the standard R commands such as
<code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code>, <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code> and some additional
commands that can be applied to a GAMLj object to extract relevant
information.</p>
</div>
<div class="section level2">
<h2 id="estimating-the-model">Estimating the model<a class="anchor" aria-label="anchor" href="#estimating-the-model"></a>
</h2>
<p>We use GAMLj <code><a href="../reference/gamlj_glm.html">gamlj_glm()</a></code> function to estimate a logistic
model with variable <code>manymodels$ybin</code> as dependent variable,
a continuous covariate <code>manymodels$x</code> and two categorical
factors,<code>manymodels$cat2</code> and <code>manymodels$cat3</code>.
We add also the independent variables interaction.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">manymodels</span><span class="op">$</span><span class="va">ybin</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">manymodels</span><span class="op">$</span><span class="va">ybin</span><span class="op">)</span></span>
<span><span class="va">manymodels</span><span class="op">$</span><span class="va">cat2</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">manymodels</span><span class="op">$</span><span class="va">cat2</span><span class="op">)</span></span>
<span><span class="va">manymodels</span><span class="op">$</span><span class="va">cat3</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">manymodels</span><span class="op">$</span><span class="va">cat3</span><span class="op">)</span></span>
<span><span class="va">manymodels</span><span class="op">$</span><span class="va">x</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">manymodels</span><span class="op">$</span><span class="va">x</span><span class="op">)</span></span>
<span></span>
<span><span class="va">mod1</span><span class="op">&lt;-</span><span class="fu"><a href="../reference/gamlj_glm.html">gamlj_glm</a></span><span class="op">(</span>formula <span class="op">=</span> <span class="va">ybin</span><span class="op">~</span><span class="va">x</span><span class="op">*</span><span class="va">cat3</span><span class="op">*</span><span class="va">cat2</span>, data<span class="op">=</span><span class="va">manymodels</span>,model_type <span class="op">=</span> <span class="st">"logistic"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mod1</span></span></code></pre></div>
<pre><code>
 GENERALIZED LINEAR MODEL

 Model Info                                                                                                    
 ───────────────────────────────────────────────────────────────────────────────────────────────────────────── 
   Info                                                                                                        
 ───────────────────────────────────────────────────────────────────────────────────────────────────────────── 
   Model Type       Logistic Model    Model for binary y                                                       
   Model            stats::glm        ybin ~ 1 + x + cat3 + cat2 + x:cat3 + x:cat2 + cat3:cat2 + x:cat3:cat2   
   Distribution     Binomial          Dichotomous event distribution of y                                      
   Link function    Logit             Log of the odd of y                                                      
   Direction        P(y=1)/P(y=0)     P( ybin = 1 ) / P( ybin = 0 )                                            
   Sample size                 120                                                                             
   Converged        yes                                                                                        
   C.I. method      Wald                                                                                       
 ───────────────────────────────────────────────────────────────────────────────────────────────────────────── 


 MODEL RESULTS

 Model Fit                                    
 ──────────────────────────────────────────── 
   R²       Adj. R²    df    X²      p        
 ──────────────────────────────────────────── 
   0.303      0.235    11    49.2    &lt; .001   
 ──────────────────────────────────────────── 


 Additional indices                                            
 ───────────────────────────────────────────────────────────── 
   Info              Model Value    Comment                    
 ───────────────────────────────────────────────────────────── 
   LogLikelihood         -56.561                               
   AIC                   137.121    Less is better             
   BIC                   170.571    Less is better             
   Deviance              113.121    Less is better             
   Residual DF           108.000                               
   Chi-squared/DF          0.938    Overdispersion indicator   
 ───────────────────────────────────────────────────────────── 


 Omnibus tests                              
 ────────────────────────────────────────── 
                  X²         df    p        
 ────────────────────────────────────────── 
   x              25.4267     1    &lt; .001   
   cat3            1.8625     2     0.394   
   cat2            8.7612     1     0.003   
   x:cat3          1.6693     2     0.434   
   x:cat2          3.5686     1     0.059   
   cat3:cat2       0.0553     2     0.973   
   x:cat3:cat2     0.5152     2     0.773   
 ────────────────────────────────────────── 


 Parameter Estimates (Coefficients)                                                                              
 ─────────────────────────────────────────────────────────────────────────────────────────────────────────────── 
   Name             Effect                 Estimate    SE       Exp(B)    Lower     Upper     z         p        
 ─────────────────────────────────────────────────────────────────────────────────────────────────────────────── 
   (Intercept)      (Intercept)               0.668    0.279     1.951    1.1298      3.37     2.398     0.016   
   x                x                         1.653    0.432     5.224    2.2395     12.19     3.826    &lt; .001   
   cat31            0 - -1                    0.820    0.644     2.270    0.6424      8.02     1.273     0.203   
   cat32            1 - -1                    0.657    0.687     1.929    0.5023      7.41     0.957     0.339   
   cat21            1 - -1                    1.549    0.557     4.706    1.5786     14.03     2.779     0.005   
   x:cat31          x:(0 - -1)                0.247    0.865     1.280    0.2347      6.98     0.285     0.776   
   x:cat32          x:(1 - -1)                1.323    1.155     3.754    0.3903     36.10     1.145     0.252   
   x:cat21          x:(1 - -1)                1.482    0.864     4.401    0.8087     23.95     1.714     0.086   
   cat31:cat21      (0 - -1):(1 - -1)        -0.229    1.288     0.796    0.0637      9.93    -0.177     0.859   
   cat32:cat21      (1 - -1):(1 - -1)        -0.296    1.373     0.744    0.0504     10.97    -0.216     0.829   
   x:cat31:cat21    x:(0 - -1):(1 - -1)       0.677    1.731     1.967    0.0662     58.46     0.391     0.696   
   x:cat32:cat21    x:(1 - -1):(1 - -1)       1.570    2.310     4.809    0.0520    444.77     0.680     0.497   
 ─────────────────────────────────────────────────────────────────────────────────────────────────────────────── </code></pre>
<div class="section level3">
<h3 id="extracting-tables">Extracting tables<a class="anchor" aria-label="anchor" href="#extracting-tables"></a>
</h3>
<p>The model is pretty printed, and the returned object is a R6 class
object containing all tables and functions required to manipulate the
results. For instance, the <code>Omnibus tests</code> table can be
assessed with</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mod1</span><span class="op">$</span><span class="va">main</span><span class="op">$</span><span class="va">anova</span></span></code></pre></div>
<pre><code>
 Omnibus tests                              
 ────────────────────────────────────────── 
                  X²         df    p        
 ────────────────────────────────────────── 
   x              25.4267     1    &lt; .001   
   cat3            1.8625     2     0.394   
   cat2            8.7612     1     0.003   
   x:cat3          1.6693     2     0.434   
   x:cat2          3.5686     1     0.059   
   cat3:cat2       0.0553     2     0.973   
   x:cat3:cat2     0.5152     2     0.773   
 ────────────────────────────────────────── </code></pre>
<p>If a table is required to be in R dara.frame format (for using in
other code, for instance), one can obtain it as follows:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span><span class="op">&lt;-</span><span class="va">mod1</span><span class="op">$</span><span class="va">main</span><span class="op">$</span><span class="va">anova</span><span class="op">$</span><span class="va">asDF</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span></code></pre></div>
<pre><code>[1] "data.frame"</code></pre>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span></span></code></pre></div>
<pre><code>       source    test df        p
1           x 25.4267  1 4.60e-07
2        cat3  1.8625  2 3.94e-01
3        cat2  8.7612  1 3.08e-03
4      x:cat3  1.6693  2 4.34e-01
5      x:cat2  3.5686  1 5.89e-02
6   cat3:cat2  0.0553  2 9.73e-01
7 x:cat3:cat2  0.5152  2 7.73e-01</code></pre>
<p>If all tables are required as R data.frame, one can use the command
<code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code></p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">mod1</span><span class="op">)</span></span></code></pre></div>
<pre><code>Model Info 

           info          value
1    Model Type Logistic Model
2         Model     stats::glm
3  Distribution       Binomial
4 Link function          Logit
5     Direction  P(y=1)/P(y=0)
6   Sample size            120
7     Converged            yes
8   C.I. method           Wald
                                                                   specs
1                                                     Model for binary y
2 ybin ~ 1 + x + cat3 + cat2 + x:cat3 + x:cat2 + cat3:cat2 + x:cat3:cat2
3                                    Dichotomous event distribution of y
4                                                    Log of the odd of y
5                                          P( ybin = 1 ) / P( ybin = 0 )
6                                                                       
7                                                                       
8                                                                       


Model Fit 

       r2   ar2 df1 test        p
"1" 0.303 0.235  11 49.2 8.79e-07


Additional indices 

            info   value                    specs
1  LogLikelihood -56.561                         
2            AIC 137.121           Less is better
3            BIC 170.571           Less is better
4       Deviance 113.121           Less is better
5    Residual DF 108.000                         
6 Chi-squared/DF   0.938 Overdispersion indicator


Omnibus tests 

       source    test df        p
1           x 25.4267  1 4.60e-07
2        cat3  1.8625  2 3.94e-01
3        cat2  8.7612  1 3.08e-03
4      x:cat3  1.6693  2 4.34e-01
5      x:cat2  3.5686  1 5.89e-02
6   cat3:cat2  0.0553  2 9.73e-01
7 x:cat3:cat2  0.5152  2 7.73e-01


Parameter Estimates (Coefficients) 

          source               label estimate    se  expb expb.ci.lower
1    (Intercept)         (Intercept)    0.668 0.279 1.951        1.1298
2              x                   x    1.653 0.432 5.224        2.2395
3          cat31              0 - -1    0.820 0.644 2.270        0.6424
4          cat32              1 - -1    0.657 0.687 1.929        0.5023
5          cat21              1 - -1    1.549 0.557 4.706        1.5786
6        x:cat31          x:(0 - -1)    0.247 0.865 1.280        0.2347
7        x:cat32          x:(1 - -1)    1.323 1.155 3.754        0.3903
8        x:cat21          x:(1 - -1)    1.482 0.864 4.401        0.8087
9    cat31:cat21   (0 - -1):(1 - -1)   -0.229 1.288 0.796        0.0637
10   cat32:cat21   (1 - -1):(1 - -1)   -0.296 1.373 0.744        0.0504
11 x:cat31:cat21 x:(0 - -1):(1 - -1)    0.677 1.731 1.967        0.0662
12 x:cat32:cat21 x:(1 - -1):(1 - -1)    1.570 2.310 4.809        0.0520
   expb.ci.upper   test       p
1           3.37  2.398 0.01649
2          12.19  3.826 0.00013
3           8.02  1.273 0.20313
4           7.41  0.957 0.33858
5          14.03  2.779 0.00545
6           6.98  0.285 0.77566
7          36.10  1.145 0.25205
8          23.95  1.714 0.08646
9           9.93 -0.177 0.85917
10         10.97 -0.216 0.82919
11         58.46  0.391 0.69585
12        444.77  0.680 0.49656</code></pre>
<p>Summary returns a list of data.frame, so the data.frame of particular
table can be easely accessed by its position in the list.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mysum</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">mod1</span><span class="op">)</span></span>
<span><span class="va">mysum</span><span class="op">[[</span><span class="fl">4</span><span class="op">]</span><span class="op">]</span></span></code></pre></div>
<pre><code>Omnibus tests 

       source    test df        p
1           x 25.4267  1 4.60e-07
2        cat3  1.8625  2 3.94e-01
3        cat2  8.7612  1 3.08e-03
4      x:cat3  1.6693  2 4.34e-01
5      x:cat2  3.5686  1 5.89e-02
6   cat3:cat2  0.0553  2 9.73e-01
7 x:cat3:cat2  0.5152  2 7.73e-01</code></pre>
</div>
<div class="section level3">
<h3 id="getting-data">Getting data<a class="anchor" aria-label="anchor" href="#getting-data"></a>
</h3>
<p>GAMLj operates a series of data transformations before estimating the
models, such as setting the contrasts for factors, centering or
standardizing the variables, and so on. The command
<code><a href="../reference/get_data.html">get_data()</a></code> allows the users to access the processed
data.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span><span class="op">&lt;-</span><span class="fu"><a href="../reference/get_data.html">get_data</a></span><span class="op">(</span><span class="va">mod1</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span></code></pre></div>
<pre><code>  ybin      x cat3 cat2
1    1 -1.123    1   -1
2    1  0.457    0   -1
3    0  1.297   -1   -1
4    0 -2.323   -1   -1
5    0  0.617    0   -1
6    1  0.697    1   -1</code></pre>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/contrasts.html" class="external-link">contrasts</a></span><span class="op">(</span><span class="va">manymodels</span><span class="op">$</span><span class="va">cat3</span><span class="op">)</span></span></code></pre></div>
<pre><code>   0 1
-1 0 0
0  1 0
1  0 1</code></pre>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/contrasts.html" class="external-link">contrasts</a></span><span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">cat3</span><span class="op">)</span></span></code></pre></div>
<pre><code>        1      2
-1 -0.333 -0.333
0   0.667 -0.333
1  -0.333  0.667</code></pre>
</div>
<div class="section level3">
<h3 id="other-types-of-information">Other types of information<a class="anchor" aria-label="anchor" href="#other-types-of-information"></a>
</h3>
<p>GAMLj results objects respond to a series of R standard commands</p>
<div class="section level4">
<h4 id="coefficients">Coefficients<a class="anchor" aria-label="anchor" href="#coefficients"></a>
</h4>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/coef.html" class="external-link">coef</a></span><span class="op">(</span><span class="va">mod1</span><span class="op">)</span></span></code></pre></div>
<pre><code>
 Parameter Estimates (Coefficients)                                                                              
 ─────────────────────────────────────────────────────────────────────────────────────────────────────────────── 
   Name             Effect                 Estimate    SE       Exp(B)    Lower     Upper     z         p        
 ─────────────────────────────────────────────────────────────────────────────────────────────────────────────── 
   (Intercept)      (Intercept)               0.668    0.279     1.951    1.1298      3.37     2.398     0.016   
   x                x                         1.653    0.432     5.224    2.2395     12.19     3.826    &lt; .001   
   cat31            0 - -1                    0.820    0.644     2.270    0.6424      8.02     1.273     0.203   
   cat32            1 - -1                    0.657    0.687     1.929    0.5023      7.41     0.957     0.339   
   cat21            1 - -1                    1.549    0.557     4.706    1.5786     14.03     2.779     0.005   
   x:cat31          x:(0 - -1)                0.247    0.865     1.280    0.2347      6.98     0.285     0.776   
   x:cat32          x:(1 - -1)                1.323    1.155     3.754    0.3903     36.10     1.145     0.252   
   x:cat21          x:(1 - -1)                1.482    0.864     4.401    0.8087     23.95     1.714     0.086   
   cat31:cat21      (0 - -1):(1 - -1)        -0.229    1.288     0.796    0.0637      9.93    -0.177     0.859   
   cat32:cat21      (1 - -1):(1 - -1)        -0.296    1.373     0.744    0.0504     10.97    -0.216     0.829   
   x:cat31:cat21    x:(0 - -1):(1 - -1)       0.677    1.731     1.967    0.0662     58.46     0.391     0.696   
   x:cat32:cat21    x:(1 - -1):(1 - -1)       1.570    2.310     4.809    0.0520    444.77     0.680     0.497   
 ─────────────────────────────────────────────────────────────────────────────────────────────────────────────── </code></pre>
</div>
<div class="section level4">
<h4 id="predicted-values">Predicted values<a class="anchor" aria-label="anchor" href="#predicted-values"></a>
</h4>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">preds</span><span class="op">&lt;-</span><span class="fu"><a href="../reference/predict.html">predict</a></span><span class="op">(</span><span class="va">mod1</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">preds</span><span class="op">)</span></span></code></pre></div>
<pre><code>     1      2      3      4      5      6 
0.2072 0.6354 0.5756 0.0787 0.6599 0.7362 </code></pre>
</div>
<div class="section level4">
<h4 id="residuals-values">Residuals values<a class="anchor" aria-label="anchor" href="#residuals-values"></a>
</h4>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">res</span><span class="op">&lt;-</span><span class="fu"><a href="../reference/residuals.html">residuals</a></span><span class="op">(</span><span class="va">mod1</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">res</span><span class="op">)</span></span></code></pre></div>
<pre><code>     1      2      3      4      5      6 
 1.774  0.952 -1.309 -0.405 -1.469  0.783 </code></pre>
</div>
</div>
<div class="section level3">
<h3 id="gamlj-additional-r-commands">GAMLj additional R commands<a class="anchor" aria-label="anchor" href="#gamlj-additional-r-commands"></a>
</h3>
<p>Other commands are available. For all of them, if the command is
passed without arguments, the command search the required results in the
GAMLj object. If the results are not available, FALSE is returned. For
instance, the model we estimated has results tables regarding the model
fit, so the command <code><a href="../reference/s3methods.html">fit()</a></code> returns them.</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/s3methods.html">fit</a></span><span class="op">(</span><span class="va">mod1</span><span class="op">)</span></span></code></pre></div>
<pre><code>[[1]]

 Model Fit                                    
 ──────────────────────────────────────────── 
   R²       Adj. R²    df    X²      p        
 ──────────────────────────────────────────── 
   0.303      0.235    11    49.2    &lt; .001   
 ──────────────────────────────────────────── 


[[2]]

 Additional indices                                            
 ───────────────────────────────────────────────────────────── 
   Info              Model Value    Comment                    
 ───────────────────────────────────────────────────────────── 
   LogLikelihood         -56.561                               
   AIC                   137.121    Less is better             
   BIC                   170.571    Less is better             
   Deviance              113.121    Less is better             
   Residual DF           108.000                               
   Chi-squared/DF          0.938    Overdispersion indicator   
 ───────────────────────────────────────────────────────────── </code></pre>
<p>On the other hand, the model does not have results regarding post-hoc
tests (they were not required in the first run), so the command
<code><a href="../reference/posthoc.html">posthoc()</a></code> returns FALSE.</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ph</span><span class="op">&lt;-</span><span class="fu"><a href="../reference/posthoc.html">posthoc</a></span><span class="op">(</span><span class="va">mod1</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ph</span></span></code></pre></div>
<pre><code>[1] FALSE</code></pre>
<p>However, one can pass the options required to obtain the results to
the command as one would do to the estimation command. For instance, to
obtain the post-hoc tests in the example, one can issue:</p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/posthoc.html">posthoc</a></span><span class="op">(</span><span class="va">mod1</span>,posthoc<span class="op">=</span> <span class="op">~</span><span class="va">cat3</span><span class="op">)</span></span></code></pre></div>
<pre><code>
 POST HOC TESTS

                                                                    
 ────────────────────────────────────────────────────────────────── 
   cat3    vs    cat3    OR       SE       z         p-bonferroni   
 ────────────────────────────────────────────────────────────────── 
   -1      -     0       0.441    0.284    -1.273           0.609   
   -1      -     1       0.518    0.356    -0.957           1.000   
   0       -     1       1.177    0.841     0.227           1.000   
 ────────────────────────────────────────────────────────────────── </code></pre>
<p>or equivalently</p>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/posthoc.html">posthoc</a></span><span class="op">(</span><span class="va">mod1</span>,posthoc<span class="op">=</span> <span class="st">"cat3"</span><span class="op">)</span></span></code></pre></div>
<pre><code>
 POST HOC TESTS

                                                                    
 ────────────────────────────────────────────────────────────────── 
   cat3    vs    cat3    OR       SE       z         p-bonferroni   
 ────────────────────────────────────────────────────────────────── 
   -1      -     0       0.441    0.284    -1.273           0.609   
   -1      -     1       0.518    0.356    -0.957           1.000   
   0       -     1       1.177    0.841     0.227           1.000   
 ────────────────────────────────────────────────────────────────── </code></pre>
<p>Notice that the GAMLj R commands accept their arguments (variables or
terms involved) either as a formula or as a list. Furthermore, any other
option accepted by the estimation command can be passed to the
commands.</p>
<p>Here are the specific commands:</p>
</div>
<div class="section level3">
<h3 id="post-hoc">Post-Hoc<a class="anchor" aria-label="anchor" href="#post-hoc"></a>
</h3>
<p>Accepts:</p>
<ul>
<li>
<strong>formula</strong>: a RHS formula specify the variables to be
tested, such as <code>~cat3</code>, or <code>cat3:cat4</code> for
combinations of levels.</li>
<li>
<strong>posthoc</strong>: a vector of variables name
(<code>posthoc="cat3"</code>) or a list of vectors, where vectors of
length &gt; 1 referes to interactions, such as
<code>posthoc(mod1,posthoc=list(c("cat3","cat2")))</code>.</li>
</ul>
</div>
<div class="section level3">
<h3 id="simple-effects">Simple Effects<a class="anchor" aria-label="anchor" href="#simple-effects"></a>
</h3>
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/simple_effects.html">simple_effects</a></span><span class="op">(</span><span class="va">mod1</span>,formula <span class="op">=</span> <span class="op">~</span><span class="va">x</span><span class="op">:</span><span class="va">cat3</span><span class="op">)</span></span></code></pre></div>
<pre><code>
 SIMPLE EFFECTS

 ANOVA for Simple Effects  of x  
 ─────────────────────────────── 
   cat3    χ²      df    p       
 ─────────────────────────────── 
   -1      3.18     1    0.075   
   0       5.46     1    0.019   
   1       6.46     1    0.011   
 ─────────────────────────────── 


 Parameter Estimates for simple effects of x                                          
 ──────────────────────────────────────────────────────────────────────────────────── 
   cat3    Effect    Estimate    SE       Exp(B)    Lower    Upper    z       p       
 ──────────────────────────────────────────────────────────────────────────────────── 
   -1      x             1.13    0.634      3.10    0.894     10.7    1.78    0.075   
   0       x             1.38    0.589      3.96    1.249     12.6    2.34    0.019   
   1       x             2.45    0.965     11.62    1.752     77.1    2.54    0.011   
 ──────────────────────────────────────────────────────────────────────────────────── </code></pre>
<p>Accepts:</p>
<ul>
<li>
<strong>formula</strong>: a RHS formula specify the variables to be
tested, such as <code>~x:cat3</code>, where the first term is the simple
effect variable and the second is the moderator.</li>
<li>
<strong>simple_x</strong>: a variable for which the effects are
required</li>
<li>
<strong>simple_mod</strong>: a variable or a vectors of
moderators</li>
</ul>
</div>
<div class="section level3">
<h3 id="anova">anova<a class="anchor" aria-label="anchor" href="#anova"></a>
</h3>
<div class="sourceCode" id="cb38"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/anova.html" class="external-link">anova</a></span><span class="op">(</span><span class="va">mod1</span><span class="op">)</span></span></code></pre></div>
<pre><code>[[1]]

 Model Fit                                    
 ──────────────────────────────────────────── 
   R²       Adj. R²    df    X²      p        
 ──────────────────────────────────────────── 
   0.303      0.235    11    49.2    &lt; .001   
 ──────────────────────────────────────────── 


[[2]]

 Additional indices                                            
 ───────────────────────────────────────────────────────────── 
   Info              Model Value    Comment                    
 ───────────────────────────────────────────────────────────── 
   LogLikelihood         -56.561                               
   AIC                   137.121    Less is better             
   BIC                   170.571    Less is better             
   Deviance              113.121    Less is better             
   Residual DF           108.000                               
   Chi-squared/DF          0.938    Overdispersion indicator   
 ───────────────────────────────────────────────────────────── 


[[3]]

 Omnibus tests                              
 ────────────────────────────────────────── 
                  X²         df    p        
 ────────────────────────────────────────── 
   x              25.4267     1    &lt; .001   
   cat3            1.8625     2     0.394   
   cat2            8.7612     1     0.003   
   x:cat3          1.6693     2     0.434   
   x:cat2          3.5686     1     0.059   
   cat3:cat2       0.0553     2     0.973   
   x:cat3:cat2     0.5152     2     0.773   
 ────────────────────────────────────────── </code></pre>
<p>When a single model is passed, it returns the model fit tables. If
two models are passed as arguments, the model comparison tests are
returned.</p>
<div class="sourceCode" id="cb40"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mod1</span><span class="op">&lt;-</span><span class="fu"><a href="../reference/gamlj_glm.html">gamlj_glm</a></span><span class="op">(</span>formula <span class="op">=</span> <span class="va">ybin</span><span class="op">~</span><span class="va">x</span><span class="op">*</span><span class="va">cat3</span><span class="op">*</span><span class="va">cat2</span>, data<span class="op">=</span><span class="va">manymodels</span>,model_type <span class="op">=</span> <span class="st">"logistic"</span><span class="op">)</span></span>
<span><span class="va">mod2</span><span class="op">&lt;-</span><span class="fu"><a href="../reference/gamlj_glm.html">gamlj_glm</a></span><span class="op">(</span>formula <span class="op">=</span> <span class="va">ybin</span><span class="op">~</span><span class="va">x</span><span class="op">+</span><span class="va">cat3</span><span class="op">+</span><span class="va">cat2</span>, data<span class="op">=</span><span class="va">manymodels</span>,model_type <span class="op">=</span> <span class="st">"logistic"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/anova.html" class="external-link">anova</a></span><span class="op">(</span><span class="va">mod1</span>,<span class="va">mod2</span><span class="op">)</span></span></code></pre></div>
<pre><code>[[1]]

 Model Fit                                                 
 ───────────────────────────────────────────────────────── 
   Model     R²        Adj. R²     df    X²       p        
 ───────────────────────────────────────────────────────── 
     Full    0.3030     0.23523    11    49.18    &lt; .001   
   Nested    0.2698     0.24519     4    43.79    &lt; .001   
      ΔR²    0.0332    -0.00996     7     5.38     0.613   
 ───────────────────────────────────────────────────────── 


[[2]]

 Additional indices                                                                     
 ────────────────────────────────────────────────────────────────────────────────────── 
   Info              Model Value    Nested Model    Δ        Comment                    
 ────────────────────────────────────────────────────────────────────────────────────── 
   LogLikelihood         -56.561         -59.252     2.69                               
   AIC                   137.121         128.504     8.62    Less is better             
   BIC                   170.571         142.442    28.13    Less is better             
   Deviance              113.121         118.504    -5.38    Less is better             
   Residual DF           108.000         115.000     7.00                               
   Chi-squared/DF          0.938           0.923             Overdispersion indicator   
 ────────────────────────────────────────────────────────────────────────────────────── </code></pre>
<p><a href="#linear-models-in-gamlj">back to top</a></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Marcello Gallucci.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
